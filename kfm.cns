; これはカンフーマンのＣＮＳファイルです。
; コメントを参考にしてＣＮＳを理解してください

; これはKFMの定数と状態のファイルです。
; 絶対記入し、削除はしないでください。
[Data]
  ;体力ゲージの初期値
life = 1000
  ;攻撃力（これ以上に設定すると強くなる）
attack = 100
  ;防御力（これ以上に設定すると強くなる）
defence = 100
  ;コンボをくらっている時にあがる防御力
fall.defence_up = 50
  ;倒れてから起上がるまでのフレーム数
liedown.time = 60
  ;空中でどれだけコンボが繋がるか（高くすると無限コンボになるので注意）
airjuggle = 15
  ;hitdefで設定していない時の基本ヒットスパークナンバー
sparkno = 2
  ;設定してない時のガードナンバー
guard.sparkno = 40
  ;KOした時に声にエコーをかけるか（１でＯＮ）
KO.echo = 0
 volume = 0
  IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1           ;水平方向の縮尺（通常１）
yscale = 1           ;垂直方向の縮尺（通常１）
ground.back = 15     ;キャラの幅(後方,地上)
ground.front = 16    ;キャラの幅(前方,地上)
air.back = 12        ;キャラの幅(後方,空中)
air.front = 12       ;キャラの幅(前方,空中)
height = 60          ;キャラの高さ
attack.dist = 160    ;攻撃をした時相手がガード体制に入る最低距離
proj.attack.dist = 90;攻撃をした時相手がガード体制に入る最低距離（飛び道具）
proj.doscale = 0     ;上で設定した縮尺を飛び道具にも適用するか（１でＯＮ）   
head.pos = -5, -90   ;頭の大体の座標
mid.pos = -5, -60    ;体の中心の大体の座標
shadowoffset = 0     ;影の垂直方向のオフセット
draw.offset = 0,0    ;使用しない

[Velocity]
walk.fwd  = 2.4      ;前進の速度
walk.back = -2.2     ;後退の速度
run.fwd  = 4.6, 0    ;前ダッシュの速度（ホップする時はyを-にする）
run.back = -4.5,-3.8 ;後ダッシュの速度（ホップする時はyを-にする）
jump.neu = 0,-8.4    ;垂直ジャンプの速度
jump.back = -2.55    ;後ジャンプの速度
jump.fwd = 2.5       ;前ジャンプの速度
runjump.back = -2.55,-8.1 ;後ダッシュしながらのジャンプ速度(オプション)
runjump.fwd = 4,-8.1      ;前ダッシュしながらのジャンプ速度(オプション)
airjump.neu = 0,-8.1      ;２段ジャンプ以降の垂直ジャンプの速度(オプション)
airjump.back = -2.55      ;２段ジャンプ以降の後ジャンプの速度(オプション)
airjump.fwd = 2.5         ;２段ジャンプ以降の前ジャンプの速度

[Movement]
airjump.num = 1      ;空中でジャンプする回数
airjump.height = 35  ;空中でジャンプする最低限の高さ
yaccel = .44         ;重力
stand.friction = .85  ;立ち状態の摩擦係数
crouch.friction = .82 ;屈み状態の摩擦係数

;---------------------------------------------------------------------------
; ステイトの解説
; [Statedef STATENO]
; type = ?      S/C/A/L  Ｓ：立ち/Ｃ：屈み/Ａ：空中/Ｌ：ダウン
; movetype = ?  I/A/H    Ｉ：通常状態/Ａ：攻撃状態/Ｈ：ダメージをくらってる状態
; physics = ?   S/C/A/N  Ｓ：立ち/Ｃ：屈み/Ａ：空中/Ｎ：無し
; juggle = ?             その攻撃に使うジャグル数
;

;---------------------------------------------------------------------------
; タイムオーバーで負けた時
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; 勝った動作１
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 181

;---------------------------------------------------------------------------
; 勝った動作２
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; 開始前の動作
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 191, 1] 
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 191, 2] 
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type = PlaySnd
trigger1 = Time = 50
value = 9,0

[State 191, 4] 
type = ChangeState
trigger1 = AnimTime = 0
value = 0

; この下のステートがKFMが蹴る木の板です。KFMのCNSを貴方のキャラに利用しているなら、
; 下にあるステート（191）を消したらいいです。
[State 191, Wood 1]
type = Explod
trigger1 = RoundState != 0
persistent = 0
anim = 191
postype = p1
pos = 260, -90
velocity = -4.2, -7
accel = 0, .32
removetime = 48

[State 191, Wood 2]
type = Explod
trigger1 = AnimElemTime(7) = 1
anim = 192
postype = p1
pos = 60, -70
velocity = 2, -4
accel = 0, .32
removetime = 35

[State 191, 5]
type = PlaySnd
trigger1 = AnimElem = 7
value = F5,2
volume = -40

[State 191, 6]
type = PlaySnd
trigger1 = AnimElemTime(7) = 3
value = F5,3
volume = -80

;---------------------------------------------------------------------------
; 挑発の動作
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 195, 1]
type = CtrlSet
trigger1 = Time = 40
value = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 123]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 123
sprpriority = 2

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = animelem = 4
attr = C, NA
damage    = 23
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = 0
sparkxy = -10,-42
hitsound   = 5,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = -4
air.velocity = -1.5,-3


[State 210, 1]
type = PlaySnd
trigger1 = Time = 16
value = 0, 4

[State 210, 2]
type = HitDef
trigger1 = (AnimElem = 9)||(AnimElem = 10)||(AnimElem = 11)||(AnimElem = 12)||(AnimElem = 13)||(AnimElem = 14)
attr = S, NA
animtype  = Medium
damage    = 23
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-70
hitsound   = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 240, 1]
type = PlaySnd
trigger1 = Time = 59
value = 0, 1

[State 240, 2]
type = HitDef
trigger1 = (AnimElem = 16)||(AnimElem = 17)||(AnimElem = 18)||(AnimElem = 19)||(AnimElem = 20)||(AnimElem = 21)
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-60
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2

[State 240, 3]
type = PosAdd
trigger1 = Time > 59
x = 12

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 126]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 126
sprpriority = 2

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = animelem = 4
attr = C, NA
damage    = 23
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = 0
sparkxy = -10,-42
hitsound   = 5,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = -4
air.velocity = -1.5,-3


[State 210, 1]
type = PlaySnd
trigger1 = Time = 16
value = 0, 4

[State 210, 2]
type = HitDef
trigger1 = (AnimElem = 9)||(AnimElem = 10)||(AnimElem = 11)||(AnimElem = 12)||(AnimElem = 13)||(AnimElem = 14)
attr = S, NA
animtype  = Medium
damage    = 23
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-70
hitsound   = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 240, 1]
type = PlaySnd
trigger1 = Time = 59
value = 0, 1

[State 240, 2]
type = HitDef
trigger1 = (AnimElem = 16)||(AnimElem = 17)||(AnimElem = 18)||(AnimElem = 19)||(AnimElem = 20)||(AnimElem = 21)
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-60
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2

[State 240, 3]
type = PosAdd
trigger1 = Time > 59
x = 12


[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 240, 2]
type = HitDef
trigger1 = (AnimElem = 22)
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-60
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2
fall = 1

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・弱・パンチ・の動作
[Statedef 200]
type    = S                      
movetype= A                      
physics = S                      
juggle  = 1                      
;Commonly-used controllers:
velset = 0,0                     ;このステートが始まった時に移動するか（0,0で動かない）
ctrl = 0                         ;このステート中に他のコマンドを受け付けるか(1で受け付ける)
anim = 200                       ;このステートで表示するスプライトステート番号(0で変化無し)
poweradd = 20                    ;このステートを使った時のパワー増加量(0で変化無し)
sprpriority = 2                  ;表示した絵の重なり具合(2一番前　0通常　-1奥)

[State 200, 1]
type = HitDef
trigger1 = (AnimElem = 2)||(AnimElem = 3)
attr = S, NA                     ;立ち状態で、通常の攻撃(ｓは立ち、ｎは通常、aは攻撃を表す)
damage = 23, 0                   ;ダメージ量（左が当たった時、右はガードした時）
animtype = Light                 ;当てた時の相手のポーズ（light/midium/hard/back）から選択
guardflag = MA                   ;ガードできる状態（ｍaは全ての状態でガード可能）
hitflag = MAF                    ;当てる事のできる条件
priority = 3, Hit                ;攻撃の優先権（0弱い　4通常　7強い
pausetime = 8, 8                 ;攻撃が当たった時の硬直時間（左が自分、右が相手）
sparkno = 0                      ;ヒットエフェクトのスプライトステート（無ければ0）
sparkxy = -10, -76               ;ヒットエフェクトを表示する場所（相手の座標で）
hitsound = 5, 0                  ;ヒットした時の音（ｓ*,*にすると自分の音を使う）
guardsound = 6, 0                ;ガードした時の音（同上）
ground.type = High               ;相手のくらった場所（High：頭、体, Low：足, Trip：足払い）
ground.slidetime = 5             ;相手が後にすべる時間
ground.hittime  = 12             ;コンボが繋がる時間（高くしすぎない事）
ground.velocity = -4             ;地上で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
airguard.velocity = -1.9,-.8     ;空中で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
air.type = High                  ;空中で相手がくらった場所（上と同じ）
air.velocity = -1.4,-3           ;空中で攻撃をくらった場合の相手の移動状況（ｘとｙで小数点可）
air.hittime = 12                 ;空中でコンボが繋がる時間

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・強・パンチ・の動作
; 強パンチの設定は上とほぼ同じです。
; 違うのはsprpriority（表示順位）が-1になっている事です。
; これでは攻撃を出しても絵は相手の後ろに隠れてしまいます
; これはカンフーマンの強パンチを見れば分かるように奥から手前に手を振っている事を
; 表現するためです、最初は手が相手より奥、振り切った時は相手より手前になる
; 投げの場合もこういうことが必要です（掴んでいるようにみせたりするため）
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 210
sprpriority = -1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 4

[State 210, 2]
type = HitDef
trigger1 = (AnimElem = 4)||(AnimElem = 5)||(AnimElem = 6)||(AnimElem = 7)||(AnimElem = 8)||(AnimElem = 9)
attr = S, NA
animtype  = Medium
damage    = 23
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-70
hitsound   = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 12
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 330]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 330
sprpriority = -1

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 4

[State 210, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 23
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-70
hitsound   = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 240, 3]
type = VelAdd
trigger1 = movecontact
trigger2 = command = "y"
trigger2 = time > 10
x = 12
y = -6

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = movecontact
trigger3 = command = "y"
trigger3 = time > 10
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・弱・キック
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = Time = 10
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,12
;-----------------------------------Projectile専用のパラメータ
offset           = 60,0          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 0,0 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2302            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 9              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない
fall = 1

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 231]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = Time = 10
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,12
;-----------------------------------Projectile専用のパラメータ
offset           = 120,0          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 0,0 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2302            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 9              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない
fall = 1

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 232]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 230
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = Time = 10
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,12
;-----------------------------------Projectile専用のパラメータ
offset           = 180,0          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 0,0 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2302            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 9              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない
fall = 1

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・強・キック
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 240
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 240, 2]
type = HitDef
trigger1 = (AnimElem = 1)||(AnimElem = 2)||(AnimElem = 3)||(AnimElem = 4)||(AnimElem = 5)||(AnimElem = 6)||(AnimElem = 7)||(AnimElem = 8)||(AnimElem = 9)
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-60
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2

[State 240, 3]
type = PosAdd
trigger1 = command = "holdfwd"
x = 12

[State 240, 3]
type = PosAdd
trigger1 = command = "holdback"
x = -12

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・強・キック
[Statedef 260]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 260
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 240, 2]
type = HitDef
trigger1 = (AnimElem = 3)
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-60
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2
fall = 1

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・強・キック
[Statedef 290]
type    = S
movetype= A
physics = S
juggle  = 5
poweradd= 65
ctrl = 0
velset = 0,0
anim = 290
sprpriority = 2

[State 240, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 240, 2]
type = HitDef
trigger1 = time = 0
attr = S, NA
animtype  = Medium
damage    = 63
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-60
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6
air.velocity = -2.2,-3.2

[State 240, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 293]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 293
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = Time = 4
attr             = S, SP
damage           = 23
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,12
;-----------------------------------Projectile専用のパラメータ
offset           = 60,-30          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 6,0 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2930            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 9              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = Time = 4
attr             = S, SP
damage           = 23
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,12
;-----------------------------------Projectile専用のパラメータ
offset           = 60,-60          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 6,0 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2930            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 9              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = Time = 4
attr             = S, SP
damage           = 23
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,12
;-----------------------------------Projectile専用のパラメータ
offset           = 60,-90          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 6,0 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2930            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 9              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 261]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 296
sprpriority = -1

[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 4

[State 4100,1]];←ヘルパーを呼び出す
type = Helper
trigger1 = time = 1
id = 4000
name = "karate"
sprpriority = 4
pos = 0,-120
stateno = 2102;←呼び出されたヘルパーはこのステートから始まる
helpertype = normal
keyctrl = 0          
ownpal = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・弱・キック
[Statedef 2102]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 2960
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 240, 3]
type = PosAdd
trigger1 = time < 9
y = -12

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = (Time = 9)
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,0
;-----------------------------------Projectile専用のパラメータ
offset           = 20,0          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 0,9 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2963            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 133              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = (Time = 9)
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,0
;-----------------------------------Projectile専用のパラメータ
offset           = 20,0          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = -1,9 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2963            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 133              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = (Time = 9)
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,0
;-----------------------------------Projectile専用のパラメータ
offset           = 20,0          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 1,9 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2963            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 133              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない


[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = (Time = 9)
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,0
;-----------------------------------Projectile専用のパラメータ
offset           = 20,0          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = -2,9 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2963            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 133              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = (Time = 9)
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,0
;-----------------------------------Projectile専用のパラメータ
offset           = 20,0          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 2,9 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2963            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 133              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 230, 3]
type = destroyself
trigger1 = time = 9

[Statedef 262]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 296
sprpriority = -1

[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 4

[State 4100,1]];←ヘルパーを呼び出す
type = Helper
trigger1 = time = 1
id = 4000
name = "karate"
sprpriority = 4
pos = 0,-120
stateno = 2106;←呼び出されたヘルパーはこのステートから始まる
helpertype = normal
keyctrl = 0          
ownpal = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・弱・キック
[Statedef 2106]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 2960
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 240, 3]
type = PosAdd
trigger1 = time < 9
x = 9
y = -12

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = (Time = 9)
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,0
;-----------------------------------Projectile専用のパラメータ
offset           = 20,0          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 0,9 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2963            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 133              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = (Time = 9)
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,0
;-----------------------------------Projectile専用のパラメータ
offset           = 20,0          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = -1,9 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2963            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 133              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = (Time = 9)
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,0
;-----------------------------------Projectile専用のパラメータ
offset           = 20,0          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 1,9 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2963            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 133              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない


[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = (Time = 9)
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,0
;-----------------------------------Projectile専用のパラメータ
offset           = 20,0          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = -2,9 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2963            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 133              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = (Time = 9)
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,0
;-----------------------------------Projectile専用のパラメータ
offset           = 20,0          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 2,9 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2963            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 133              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 230, 3]
type = destroyself
trigger1 = time = 9

[Statedef 263]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 296
sprpriority = -1

[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 4

[State 4100,1]];←ヘルパーを呼び出す
type = Helper
trigger1 = time = 1
id = 4000
name = "karate"
sprpriority = 4
pos = 0,-120
stateno = 2109;←呼び出されたヘルパーはこのステートから始まる
helpertype = normal
keyctrl = 0          
ownpal = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 2109]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 2960
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 240, 3]
type = PosAdd
trigger1 = time < 9
x = 18
y = -12

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = (Time = 9)
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,0
;-----------------------------------Projectile専用のパラメータ
offset           = 20,0          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 0,9 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2963            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 133              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = (Time = 9)
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,0
;-----------------------------------Projectile専用のパラメータ
offset           = 20,0          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = -1,9 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2963            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 133              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = (Time = 9)
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,0
;-----------------------------------Projectile専用のパラメータ
offset           = 20,0          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 1,9 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2963            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 133              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない


[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = (Time = 9)
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,0
;-----------------------------------Projectile専用のパラメータ
offset           = 20,0          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = -2,9 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2963            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 133              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = (Time = 9)
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,0
;-----------------------------------Projectile専用のパラメータ
offset           = 20,0          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 2,9 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2963            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 133              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 230, 3]
type = destroyself
trigger1 = time = 9


[Statedef 291]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 296
sprpriority = -1

[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 4

[State 4100,1]];←ヘルパーを呼び出す
type = Helper
trigger1 = time = 1
id = 4000
name = "karate"
sprpriority = 4
pos = 0,-120
stateno = 2202;←呼び出されたヘルパーはこのステートから始まる
helpertype = normal
keyctrl = 0          
ownpal = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・弱・キック
[Statedef 2202]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 2960
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 240, 3]
type = PosAdd
trigger1 = time < 9
y = -12

[State 230, 3]
type = destroyself
trigger1 = time = 9

[Statedef 292]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 296
sprpriority = -1

[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 4

[State 4100,1]];←ヘルパーを呼び出す
type = Helper
trigger1 = time = 1
id = 4000
name = "karate"
sprpriority = 4
pos = 0,-120
stateno = 2203;←呼び出されたヘルパーはこのステートから始まる
helpertype = normal
keyctrl = 0          
ownpal = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・弱・キック
[Statedef 2203]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 2960
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1


[State 240, 3]
type = PosAdd
trigger1 = time < 9
x = 9
y = -12

[State 230, 3]
type = destroyself
trigger1 = time = 9

[Statedef 294]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 296
sprpriority = -1

[State 210, Width]
type = Width
trigger1 = (AnimElemTime (2) >= 0) && (AnimElemTime (7) < 0)
value = 15,0

[State 210, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 4

[State 4100,1]];←ヘルパーを呼び出す
type = Helper
trigger1 = time = 1
id = 4000
name = "karate"
sprpriority = 4
pos = 0,-120
stateno = 2204;←呼び出されたヘルパーはこのステートから始まる
helpertype = normal
keyctrl = 0          
ownpal = 0

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 立ち・弱・キック
[Statedef 2204]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 22
ctrl = 0
velset = 0,0
anim = 2960
sprpriority = 2

[State 230, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 240, 3]
type = PosAdd
trigger1 = time < 9
x = 18
y = -12

[State 230, 3]
type = destroyself
trigger1 = time = 9

;---------------------------------------------------------------------------
;屈み・弱・パンチ
;     これも通常の攻撃とはあまり変わらないが、変わった点といえばpriority（優先順位）
;     が３になっている事です。
;     これによって他の大抵の攻撃よりも優先権が下がる事になり相手と攻撃がかち合った
;     時は負けてしまいます。
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 400
sprpriority = 2

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 23
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 10,11
sparkno = 0
sparkxy = -10,-42
hitsound   = 5,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = -4
air.velocity = -1.5,-3

[State 400, 3]
type = CtrlSet
trigger1 = Time = 5
value = 1

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
;屈み・強・パンチ
; CNS difficulty: easy
; 　    これはパンチが二回当たるようになっています。
;       攻撃を２回当てるには２個のHitDefを書く必要があります
;       一発目の攻撃のHitDefにはguardflagが「M」（middle＝中段ガード）
;       にセットされているので、相手は空中でガードできません。二発目
;       の攻撃のguardflagは「MA」（middle+air＝中段＋空中ガード）で、
;       地上、空中でもガードすることができます。
;       ちなみに一つに統合する事もできますが、内容を変えたい時はやはり２個書くのが
;       いいと思います
[Statedef 410]
type    = C
movetype= A
physics = C
juggle  = 6
poweradd= 50
ctrl = 0
anim = 410
sprpriority = 2

[State 410, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

;一回目の攻撃ステート
[State 410, 2]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage    = 37
animtype  = Medium
hitflag = MAF
guardflag = M
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -3,-4

;二回目の攻撃ステート
[State 410, 3] 
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
damage    = 36
animtype  = Medium
hitflag = MAF
guardflag = MA
pausetime = 12,12
sparkxy = -10,-83
hitsound   = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -3,-4

[State 410, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;屈み・弱・キック
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 22
ctrl = 0
anim = 430
sprpriority = 2

[State 430, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 430, 2]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 28
animtype  = Light
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = 0
sparkxy = -10,-8
hitsound   = 5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 6
ground.hittime  = 12
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -5,0
down.hittime = 20

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;屈み・強・キック
;
;これは足払いの効果を出すためにground.typeがTripになっています。
;それ以外は特にありません。
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = 7
poweradd= 70
ctrl = 0
anim = 440
sprpriority = 2

[State 440, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 2

[State 440, 3]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 72
hitflag = MAFD
guardflag = L
pausetime = 12,12
sparkno = 1
sparkxy = -5,-10
hitsound   = 5,2
guardsound = 6,0
ground.type = Trip
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -1.5,-2
air.velocity = -1.2,-3
guard.velocity = -5
fall = 1

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;空中・弱・パンチ
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 200
sprpriority = 2

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 600, 2]
type = HitDef
trigger1 = (AnimElem = 2)||(AnimElem = 3)
attr = A, NA
damage    = 20
guardflag = HA
priority = 3
pausetime = 7,8
sparkno = 0
sparkxy = -10,-58
hitsound   = 5,0
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3

[State 600, 3]
type = CtrlSet
trigger1 = Time = 17
value = 1

;---------------------------------------------------------------------------
;空中・強・パンチ
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 210
sprpriority = 2

[State 610, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 610, 3]
type = HitDef
trigger1 = (AnimElem = 4)||(AnimElem = 5)||(AnimElem = 6)||(AnimElem = 7)||(AnimElem = 8)||(AnimElem = 9)
attr = A, NA
damage = 32
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = 5,3
guardsound = 6,0
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4

[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 330
sprpriority = 2

[State 610, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 610, 3]
type = HitDef
trigger1 = (AnimElem = 4)||(AnimElem = 5)||(AnimElem = 6)||(AnimElem = 7)||(AnimElem = 8)||(AnimElem = 9)
attr = A, NA
damage = 32
guardflag = HA
priority = 4
pausetime = 12,12
sparkno = 1
sparkxy = -10,-55
hitsound   = 5,3
guardsound = 6,0
animtype = Med
ground.type = High
ground.slidetime = 17
ground.hittime  = 17
ground.velocity = -5
air.velocity = -3,-4

[State 240, 3]
type = VelAdd
trigger1 = movecontact
trigger2 = command = "y"
trigger2 = time > 10
x = 12
y = -9

[State 210, 5]
type = ChangeState
trigger1 = AnimTime = 0
trigger2 = movecontact
trigger3 = command = "y"
trigger3 = time > 10
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;空中・弱・キック
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 20
ctrl = 0
anim = 294
sprpriority = 2

[State 630, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = Time = 4
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,12
;-----------------------------------Projectile専用のパラメータ
offset           = 60,-30          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 30,0 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2930            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 9              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = Time = 4
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,12
;-----------------------------------Projectile専用のパラメータ
offset           = 60,-60          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 30,0 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2930            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 9              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = Time = 4
attr             = S, SP
damage           = ifelse(var(35)=1,30,ceil(60+(var(53)*10))),ifelse(var(35)=1,3,ceil(6+(var(53)))) ;（※）
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,12
;-----------------------------------Projectile専用のパラメータ
offset           = 60,-90          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 30,0 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 2930            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 9              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

;---------------------------------------------------------------------------
;空中・強・キック
[Statedef 621]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 298
sprpriority = 2

[State 640, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 4100,1]];←ヘルパーを呼び出す
type = Helper
trigger1 = time = 1
id = 4000
name = "karate"
sprpriority = 4
pos = 0,-120
stateno = 2102;←呼び出されたヘルパーはこのステートから始まる
helpertype = normal
keyctrl = 0          
ownpal = 0

;---------------------------------------------------------------------------
;空中・強・キック
[Statedef 622]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 298
sprpriority = 2

[State 640, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 4100,1]];←ヘルパーを呼び出す
type = Helper
trigger1 = time = 1
id = 4000
name = "karate"
sprpriority = 4
pos = 0,-120
stateno = 2106;←呼び出されたヘルパーはこのステートから始まる
helpertype = normal
keyctrl = 0          
ownpal = 0

;---------------------------------------------------------------------------
;空中・強・キック
[Statedef 623]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 298
sprpriority = 2

[State 640, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 4100,1]];←ヘルパーを呼び出す
type = Helper
trigger1 = time = 1
id = 4000
name = "karate"
sprpriority = 4
pos = 0,-120
stateno = 2109;←呼び出されたヘルパーはこのステートから始まる
helpertype = normal
keyctrl = 0          
ownpal = 0

;---------------------------------------------------------------------------
;空中・強・キック
[Statedef 1600]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 298
sprpriority = 2

[State 640, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 4100,1]];←ヘルパーを呼び出す
type = Helper
trigger1 = time = 1
id = 4000
name = "karate"
sprpriority = 4
pos = 0,-120
stateno = 2202;←呼び出されたヘルパーはこのステートから始まる
helpertype = normal
keyctrl = 0          
ownpal = 0

;---------------------------------------------------------------------------
;空中・強・キック
[Statedef 1601]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 298
sprpriority = 2

[State 640, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 4100,1]];←ヘルパーを呼び出す
type = Helper
trigger1 = time = 1
id = 4000
name = "karate"
sprpriority = 4
pos = 0,-120
stateno = 2203;←呼び出されたヘルパーはこのステートから始まる
helpertype = normal
keyctrl = 0          
ownpal = 0

;---------------------------------------------------------------------------
;空中・強・キック
[Statedef 1602]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= 65
ctrl = 0
anim = 298
sprpriority = 2

[State 640, 2]
type = PlaySnd
trigger1 = Time = 2
value = 0, 1

[State 4100,1]];←ヘルパーを呼び出す
type = Helper
trigger1 = time = 1
id = 4000
name = "karate"
sprpriority = 4
pos = 0,-120
stateno = 2203;←呼び出されたヘルパーはこのステートから始まる
helpertype = normal
keyctrl = 0          
ownpal = 0

;---------------------------------------------------------------------------
;カンフースロー・発動
;     
;     投げのステートは少し複雑ですが順序良くならべればなんてことありません。
;     800：投げの発生と失敗した時
;     810：投げが成功した時の自分の動き
;     820：投げが成功した瞬間の相手の状態
;     821：投げが成功した時の相手の飛んでいく状態
;     とこんな具合です、投げは自分の他に相手の分も記述しなくてはなりません
;     でもそれだけです。

[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT          ;ｓ：立ち　ｎ：通常　ｔ：投げ
hitflag = M-          ;コンボの途中から投げが入らないよう設定してある
priority = 1, Miss    ;１は優先順位が低いので技がでないかミスするという設定
sparkno = -1          ;-をつければスパークエフェクトは無い
sprpriority = 1       ;２Ｐより上にカンフーマンが表示される
p1facing = ifelse (command = "holdfwd", -1, 1) ;前を押したらターンする設定
p2facing = 1          ;？
p1stateno = 810       ;投げが成功した場合の移動する１Ｐのステート
p2stateno = 820       ;投げが成功した場合の移動する２Ｐのステート
fall = 1              ;落ちる力を２Ｐにかけるか

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;カンフースロー・投げている自分
;     このステートでは相手を設定した場所に固定した後、相手を飛ばしています
;     ここで相手の動きを制御しているのはtype = TargetBindというステートです
;     これを一定時間事にやっていくと綺麗に投げ飛ばされているように見えます。
;     そしてここにはHitDefが無いのでダメージはtype = TargetLifeAddで
;     ダメージを減らしています

[Statedef 810]
type    = S
movetype= A
physics = N
anim = 810
poweradd = 60

[State 810, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 1

[State 810, Throw Sound]
type = PlaySnd
trigger1 = AnimElem = 7
value = 800, 0

[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) < 0
pos = 28, 0

[State 810, Width 2-11]
type = Width
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(12) < 0
edge = 60,0

[State 810, Bind 2-4]
type = TargetBind
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(5) < 0
pos = 58, 0

[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = 47, 0

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
pos = 41, -60

[State 810, Bind 7]
type = TargetBind
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
pos = 25, -75

[State 810, Bind 8]
type = TargetBind
trigger1 = AnimElemTime(8) >= 0 && AnimElemTime(9) < 0
pos = 15, -90

[State 810, Bind 9]
type = TargetBind
trigger1 = AnimElemTime(9) >= 0 && AnimElemTime(10) < 0
pos = -5, -96

[State 810, Bind 10]
type = TargetBind
trigger1 = AnimElemTime(10) >= 0 && AnimElemTime(11) < 0
pos = -14, -90

[State 810, Bind 11]
type = TargetBind
trigger1 = AnimElem = 11
pos = -50, -50

[State 810, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimElem = 11
value = -78

[State 810, Throw 11]
type = TargetState
trigger1 = AnimElem = 11
value = 821

[State 810, Turn 12]
type = Turn
trigger1 = AnimElem = 12

[State 810, Pos 15]
type = PosAdd
trigger1 = AnimElem = 15
x = -10

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;カンフースロー・投げられている相手
; 
;     ここは投げられた瞬間の相手のステートです
;     たいしたことは書いてありませんがtypeがAになっている事です。
;     相手が投げれて空中にいる事を設定して次の821ステートに移動します

[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

;---------------------------------------------------------------------------
;カンフースロー・相手の空中の状態
;     
;     これは投げられている相手の状態ととれる行動を設定しています
;     type = SelfStateは相手のリカバー状態を設定する物でこの状態ならこれ。
;     と言うように地上近く、空中、叩きつけられた時と３つ設定しています。

[Statedef 821]
type    = A
movetype= H
physics = N
velset = 2.8,-7
poweradd = 40

[State 821, 1] ;これは重力これは毎フレーム事に0.4の力が加わります
type = VelAdd
Trigger1 = 1
y = .4

[State 821, 2] 
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200

[State 821, 3] 
type = SelfState
triggerall = Vel Y > 0
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 

[State 821, 4] 
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 


;---------------------------------------------------------------------------
; カンフー突き手・弱
; 
;   これは必殺技のステートです、主な違いはattrがS, SAになっているところで
;   意味はＳ：立ち Ｓ：必殺技 Ａ：攻撃となっています。
;   これは相手のとる反応を左右するので正確にする必要があります
;   後、攻撃が近くで当たるのと遠くで当たるのを区別しています
;   1000,5はtrigger1 = p2bodydist X < 40と記述があります
;   意味は「相手の水平位置が40より近い」ということです。
;   1000,6はtrigger1 = p2bodydist X >= 40となっています、すると
;   意味は「相手の水平位置が40以上」となっているので近くなら強く
;   遠くなら弱くダメージがあると言う事です。

[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 110
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2

[State 1000, 1]
type = PlaySnd
trigger1 = Time = 8
value = 0, 3

[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 20

[State 1000, 3]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 12
x = 10

[State 1000, 4]
type = PosAdd
trigger1 = AnimElem = 5
x = 5

[State 1000, 5] ;相手が近い時
type = HitDef
trigger1 = AnimElem = 5
trigger1 = p2bodydist X < 40
attr = S, SA
animtype  = Hard
damage    = 85, 4
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = 5,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1

[State 1000, 6] ;相手が遠い時
type = HitDef
trigger1 = AnimElem = 5
trigger1 = p2bodydist X >= 40
attr = S, SA
animtype  = Hard
damage    = 80, 4
priority  = 5
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = 5,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -4,-2.5

[State 1000, 6]
type = PosAdd
trigger1 = AnimElem = 8
x = -5

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; カンフー突き手・強
[Statedef 1010]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 120
velset = 0,0
anim = 1010
ctrl = 0
sprpriority = 2

[State 1010, 1]
type = PlaySnd
trigger1 = Time = 9
value = 0, 3

[State 1010, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 20

[State 1010, 3]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 12
x = 10

[State 1010, 4]
type = PosAdd
trigger1 = AnimElem = 5
x = 5

[State 1010, 5]
type = VelSet
trigger1 = AnimElem = 5
x = 4

[State 1010, 6] 
type = HitDef
trigger1 = AnimElem = 5
trigger1 = p2bodydist X < 40
attr = S, SA
animtype  = Hard
damage    = 94, 4
priority  = 6
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = 5,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1

[State 1010, 7] 
type = HitDef
trigger1 = AnimElem = 5
trigger1 = p2bodydist X >= 40
attr = S, SA
animtype  = Hard
damage    = 89, 4
priority  = 5
guardflag = MA
pausetime = 15,15
sparkxy = -10,-60
hitsound   = 5,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -4,-2.5

[State 1010, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; カンフー突き手・早い
; 
;     これは少し難しい物を使っています。
;     攻撃が当たった時に相手をp2stateno = 1025で移動しています。
;     あとの移動などは応用なのでそう難しくないですね。

[Statedef 1020]
type    = S
movetype= A
physics = N
juggle  = 6
poweradd= -330
velset = 0,0
anim = 1020
ctrl = 0
sprpriority = 2

[State 1020, Friction]
type = VelMul
trigger1 = 1
x = .85 * ifelse (AnimElemTime(6) < 0, 1, .8)

[State 1020, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1020, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(8) < 0
time = 2

[State 1020, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 1020, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 3

[State 1020, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 20

[State 1020, 3]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
x = 10

[State 1020, 4]
type = PosAdd
trigger1 = AnimElem = 4
x = 5

[State 1020, 5]
type = VelSet
trigger1 = AnimElem = 4
x = 13

[State 1020, 6]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype  = Hard
damage    = 102, 5
getpower  = 0
priority  = 5
guardflag = MA
pausetime = 8,7
sparkxy = -10,-60
hitsound   = 5,4
guardsound = 6,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -8,-7
guard.velocity = -7
air.velocity = -8,-7
airguard.velocity = -5, -4
fall = 1
p2stateno = 1025

[State 1020, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------
; 攻撃をくらった相手の状態

[Statedef 1025]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1025, Anim] ;２Ｐのスプライトステートを変更しています
type = ChangeAnim2
trigger1 = 1
value = 1025

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 1026

;------------------
; 飛んでいく相手のステート

[Statedef 1026]
type    = A
movetype= H
physics = N

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, No scroll]
type = ScreenBound
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 1026, Hit wall]
type = ChangeState
triggerall = Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1027

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------
; 飛んでいった相手の壁に当たる状態のステート

[Statedef 1027]
type    = A
movetype= H
physics = N

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1027

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 1028

;------------------
; 壁に当たった相手が落ちるステート

[Statedef 1028]
type    = A
movetype= H
physics = N

[State 1028, 1]
type = NotHitBy
trigger1 = 1
value = , NA, NP

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050] 
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5052] 
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5060] 
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5062] 
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
; カンフーニー・発動・弱
; 
;     これもたいした事はしていません、ただこれは一度空中に浮く動作が入るため
;     自分の状態は地上・空中・地上とならなければならないので
;     ステートを発動・空中動作・着地動作の３つにわけた、こんなもんです。
;     これは昇龍拳などの技にも応用できます。

[Statedef 1050]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 110
velset = 0,0
anim = 1050
ctrl = 0
sprpriority = 2

[State 1050, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 2

[State 1050, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = 15

[State 1050, 3]
type = PosAdd
trigger1 = AnimElem = 4
x = 25

[State 1050, 4]
type = HitDef
trigger1 = Time = 0
attr = A, SA
animtype  = Medium
damage    = 95, 4
priority  = 5
guardflag = MA
pausetime = 12,12
sparkxy = -10,-70
hitsound   = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3.5,-7
guard.velocity = -7
air.velocity = -3.5,-7
fall = 1

[State 1050, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1051

;------------------
; カンフーニー・空中動作・弱
; 
;     ここでひざ蹴りの上昇を滑らかにするためにtype = VelAddが使われています
;     これはまずvelset = 2,-6で「斜め前に移動」しつつVelAddステートで重力を設定し
;     設定した値に達したらチェンジステートしています
;     ここで注目してほしいのがphysicsがNになっている事です。
;     physics（物理学）を無しにする事で自分の決めた重力で動く事ができるのです。

[Statedef 1051]
type    = A
movetype= A
physics = N
velset = 2,-6
anim = 1051
hitdefpersist = 1 ;攻撃が当たった場合その動きのままにするか（１でＯＮ）

[State 1051, 1] ;これがここだけの重力設定
type = VelAdd
trigger1 = 1
y = .45

[State 1051, 2] ;設定した値に達したらチェンジステート
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1052

;------------------
; カンフーニー・着地・弱
; 
;     これが着地した瞬間のステートです。
;     ずれを修正するためにtype = PosSetを0にしています。
;     意味はわかりますね？「地面と接地させる」です。

[Statedef 1052]
type    = S
movetype= I
physics = S
anim = 1052
sprpriority = 1
velset = 0,0

[State 1052, 1] ;地面に設置させるステート
type = PosSet
trigger1 = Time = 0
y = 0

[State 1052, 2] 
type = PlaySnd
trigger1 = Time = 0
value = 40, 0

[State 1052, 3] ;ここでカンフーマンを操作可能に戻す
type = CtrlSet
trigger1 = AnimElem = 3, -1
value = 1

[State 1052, 4] ;少しキャラを手前に戻す
type = PosAdd
trigger1 = AnimElem = 4
x = -15

[State 1052, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; カンフーニー・発動・強
[Statedef 1060]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 120
velset = 0,0
anim = 1060
ctrl = 0
sprpriority = 2

[State 1060, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 2

[State 1060, 2]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 14

[State 1060, 3]
type = PosAdd
trigger1 = AnimElem = 4
x = 25

[State 1060, 4]
type = HitDef
trigger1 = Time = 0
attr = A, SA
animtype  = Medium
damage    = 103, 4
priority  = 5
guardflag = MA
pausetime = 12,12
sparkxy = -10,-70
hitsound   = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3.5,-7.5
guard.velocity = -7
air.velocity = -3.5,-7.5
fall = 1

[State 1060, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1061

;------------------
; カンフーニー・空中・強
[Statedef 1061]
type    = A
movetype= A
physics = N
velset = 2.5,-7.5
anim = 1061
hitdefpersist = 1 

[State 1061, 1]
type = VelAdd
trigger1 = 1
y = .45

[State 1061, 2]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1052

;---------------------------------------------------------------------------
; 早いカンフーニー・発動
[Statedef 1070]
type    = S
movetype= A
physics = S
juggle  = 6
poweradd= -330
velset = 0,0
anim = 1070
ctrl = 0
sprpriority = 2

[State 1070, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1070, Afterimage]
type = AfterImageTime
trigger1 = 1
time = 2

[State 1070, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 1070, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 2

[State 1070, 2]
type = PosAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 3
x = 14

[State 1070, 3]
type = PosAdd
trigger1 = AnimElem = 4
x = 25

[State 1070, 4]
type = HitDef
trigger1 = Time = 0
attr = S, SA
animtype  = Medium
getpower  = 0
damage    = 40, 3
priority  = 5
hitflag   = MA
guardflag = MA
pausetime = 8,7
sparkxy = -10,-70
hitsound   = 5,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -2,-6
guard.velocity = -7
air.velocity = -2,-6
fall = 1
fall.animtype = Med
fall.recovertime = 30

[State 1070, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1071

;------------------
; 早いカンフーニー
[Statedef 1071]
type    = A
movetype= A
physics = N
velset = 2.5,-9
anim = 1071

[State 1071, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 18
add = 32,16,0
sinadd = 64,32,5,3

[State 1071, Afterimage]
type = AfterImageTime
trigger1 = Vel Y < 0
time = 2

[State 1071, 1]
type = VelAdd
trigger1 = 1
y = .5

[State 1071, 2]
type = VelAdd
trigger1 = Vel Y >= -1
y = .2

[State 1071, 3]
type = HitDef
trigger1 = Time = 0
attr = A, SA
animtype  = Medium
getpower  = 0
damage    = 81, 4
priority  = 5
guardflag = MA
pausetime = 12,12
sparkxy = -10,-70
hitsound   = 5,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 18
ground.hittime  = 18
ground.velocity = -3,-9.5
guard.velocity = -7
air.velocity = -3,-9.5
fall = 1
fall.recovertime = 30

[State 1071, 4]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= -10
value = 1052


;---------------------------------------------------------------------------
; 三連カンフー突き手(超必殺)
; 
;        さて、これは超必殺技のステートです。
;        注目する事はgetpowerが0になっている事です、通常超必殺はゲージを使って
;        発動する物なのでゲージが増えるのは変ですね？なので0になっています
;        攻撃の状態はattr = S, HAですＳ：立ち状態　Ｈ：超必殺　Ａ：攻撃です。
;        後、上でHitDefは一つに統合できると書きましたがここではそれを使用しています。
;        HitDefを見ると
;        trigger1 = AnimElem = 5
;        trigger2 = AnimElem = 12
;        となっていますね？これの意味は「スプライトステートの５枚目と９枚目の絵の時に」
;        という意味になります、triggerが1と2なのは条件を表しもし両方とも1ならば
;        意味が変わってきます。例えば「スプライトステートの１枚目の２０フレーム目」とするなら
;        trigger1 = AnimElem = 1
;        trigger1 = time = 20
;        と書けばＯＫです。
[Statedef 300]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 300
ctrl = 0
sprpriority = 2

[State 3000, Width]
type = Width
trigger1 = AnimElem = 2, >= 0
value = 15,0

[State 3000, Super A]
type = SuperPause
trigger1 = time = 0
pos = 25, -57
anim = 100
sound = 20, 0
poweradd = -1000

[State 3000, Super B]
type = AfterImage
trigger1 = AnimElem = 2, 1
time = 2

[State 3000, Super C]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 60
time = 2

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = Time > 0
attr             = S, SP
damage           = 20
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,12
;-----------------------------------Projectile専用のパラメータ
offset           = 30,-90          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 30,0 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 3000            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 9              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 3000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 315]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 310
ctrl = 0
sprpriority = 2

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = (Time > 0)&&(Time < 20)
attr             = S, SP
damage           = 3
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,3
;-----------------------------------Projectile専用のパラメータ
offset           = 30,-90          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 13,0 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1000            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 316            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = 12              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 16
ground.hittime   = 1
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 3000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 3117]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 4001
sprpriority = -1

[State 1071, 1]
type = PosAdd
trigger1 = root, command = "holdfwd"
x = 3

[State 1071, 1]
type = PosAdd
trigger1 =root,  command = "holdback"
x = -3

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA
animtype  = Medium
damage    = 26
guardflag = MA
pausetime = 12,12
sprpriority = -1
sparkno = 1
sparkxy = -10,-70
hitsound   = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 120,1]
type = ChangeAnim
trigger1 = root, command > = "x"
value = 4002

[State 120,1]
type = ChangeAnim
trigger1 = root, command > = "y"
value = 4003

[State 120,1]
type = ChangeAnim
trigger1 = root, command > = "z"
value = 4006

[State 1071, 1]
type = PosSet
trigger1 = root, command = "start"
x = 0

[State 4100,1]];←ヘルパーを呼び出す
type = Helper
trigger1 = (NumHelper(1321) = 0)
trigger1 = root, command > = "y"
id = 1321
name = "karate"
sprpriority = -1
pos = 30,0
postype = p1
stateno = 3118;←呼び出されたヘルパーはこのステートから始まる
helpertype = normal

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = Animelem = 3
attr             = S, SP
damage           = 20
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,12
;-----------------------------------Projectile専用のパラメータ
offset           = 0,-180          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 4,4 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1200            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 4009            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = -1              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 0
ground.hittime   = 0
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = Animelem = 3
attr             = S, SP
damage           = 20
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,12
;-----------------------------------Projectile専用のパラメータ
offset           = -120,-430          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 4,4 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1200            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 4009            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = -1              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 0
ground.hittime   = 0
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = Animelem = 3
attr             = S, SP
damage           = 20
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,12
;-----------------------------------Projectile専用のパラメータ
offset           = -100,-350          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 4,4 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1200            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 4009            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = -1              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 0
ground.hittime   = 0
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 1000, 飛び道具];HitDefに飛び道具専用のパラメータを加えたようなものが「Projectile」
type = Projectile
trigger1 = Animelem = 3
attr             = S, SP
damage           = 20
getpower         = ifelse(var(35)=1,0,30),ifelse(var(35)=1,0,10)
animtype         = Back
pausetime        = 0,12
;-----------------------------------Projectile専用のパラメータ
offset           = -120,-280          ;飛び道具を発射する位置（Ｘ軸,Ｙ軸）
velocity         = 4,4 ;飛び道具の移動速度（Ｘ軸,Ｙ軸）
accel            = 0,0             ;飛び道具の加速度(float)（Ｘ軸,Ｙ軸）
projID           = 1200            ;飛び道具のＩＤナンバー（NumProjIDなどで判断）
projanim         = 4009            ;飛び道具のアニメ（アクションナンバー）
projhitanim      = -1            ;飛び道具がヒットした時のアニメ（アクションナンバー）
projremanim      = -1            ;飛び道具が消える時のアニメ（アクションナンバー）
projscale        = 1,1         ;飛び道具の大きさ（Ｘ軸,Ｙ軸）※現在ハイレゾ用にスケールを半分にしてる
projshadow       = 0,0,0           ;飛び道具の影の色合い（赤,緑,青）※現在影無し
projhits         = 1               ;飛び道具のヒット数（２以上なら多段ヒットになる）
projmisstime     = 1               ;飛び道具の連続でヒットしない間隔　※projhitsが２以上の時のみ
projpriority     = 3               ;飛び道具の攻撃優先度・相手のProjectileよりも高いと消しながら進む
projremovetime   = -1              ;飛び道具の消えるまでの時間（フレーム）※-1なら当たるか画面外に出るまで消えない
projsprpriority  = 4               ;飛び道具の画像表示優先度
;-----------------------------------これ以外にまだまだある。docsフォルダ参照。
guardflag        = MA
priority         = 3
sparkno          = 0
sparkxy          = 30,0 ;Projectileの場合『Projectileの軸位置』からの座標を取る
guard.sparkno    = s4216
hitsound         = 5,0
guardsound       = s0,10
ground.type      = High
ground.slidetime = 0
ground.hittime   = 0
ground.velocity  = -6,0
air.velocity     = -4.2,-4
air.juggle       = 4 ;Projectileの場合はここで設定しないとヒットした時ジャグルが消費しない

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 3117

[Statedef 3118]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 0
ctrl = 0
anim = 4004
sprpriority = 2

[State 3000, 4]
type = PosAdd
trigger1 = time > 0
x = 6

[State 210, 2]
type = HitDef
trigger1 = AnimElem = 1
attr = S, NA
animtype  = Medium
damage    = 26
guardflag = MA
pausetime = 12,12
sparkno = 1
sparkxy = -10,-70
hitsound   = 5,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4

[State 230, 3]
type = destroyself
trigger1 = Time = 133

[StateDef 333]
type = S
physics = S
anim = 333
sprpriority = 1

[State 105, 1]
type = VelSet
trigger1 = Time = 0
x = 12

[State 100,2]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; ここから下に新しいステートを書くと分かりやすくていいと思います
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; ここは-2のステートを書いてください、ヘルパー関係です
;---------------------------------------------------------------------------
[Statedef -2]

[State 4100,1]];←ヘルパーを呼び出す
type = Helper
trigger1 = (NumHelper(1320) = 0)
trigger1 = Power >= 2000
trigger1 = command  = "start"
trigger1 = statetype != A
id = 1320
name = "karate"
sprpriority = 0
pos = 30,0
postype = p1
stateno = 3117;←呼び出されたヘルパーはこのステートから始まる
helpertype = normal

;---------------------------------------------------------------------------
; ここから下は-3のステートを書いてください、ここに書いたものはゲーム中
; に条件が成立すればいつでも開始するステートです。
;---------------------------------------------------------------------------

